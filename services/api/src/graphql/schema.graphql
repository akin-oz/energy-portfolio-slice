enum ProjectStatus {
  DRAFT
  ACTIVE
  HOLD
  CLOSED
}

enum EnergyAssetType {
  SOLAR
  WIND
  STORAGE
  OTHER
}

"""
Energy portfolio domain schema.

GraphQL fits this product because it lets us compose across customers → projects → assets
with precise payloads per view. It exposes a single graph that different product surfaces
can slice: lists with pagination, detail panes, and filters (status/type) without over‑fetching.
"""
type Customer {
  id: ID!
  name: String!
  contactName: String
  contactEmail: String
  country: String
  createdAt: String!
  updatedAt: String
}

type Project {
  id: ID!
  customerId: ID!
  name: String!
  status: ProjectStatus!
  totalCapacityKw: Int
  city: String
  country: String
  startDate: String
  endDate: String
  createdAt: String!
  updatedAt: String
}

type EnergyAsset {
  id: ID!
  projectId: ID!
  type: EnergyAssetType!
  name: String
  capacityKw: Int!
  active: Boolean!
  manufacturer: String
  model: String
  commissionedAt: String
  createdAt: String!
  updatedAt: String
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
}

type CustomerEdge {
  cursor: String!
  node: Customer!
}

type CustomerConnection {
  edges: [CustomerEdge!]!
  pageInfo: PageInfo!
}

type ProjectEdge {
  cursor: String!
  node: Project!
}

type ProjectConnection {
  edges: [ProjectEdge!]!
  pageInfo: PageInfo!
}

type EnergyAssetEdge {
  cursor: String!
  node: EnergyAsset!
}

type EnergyAssetConnection {
  edges: [EnergyAssetEdge!]!
  pageInfo: PageInfo!
}

type Query {
  customer(id: ID!): Customer
  customers(first: Int, after: String): CustomerConnection!

  projectsByCustomer(
    customerId: ID!
    first: Int
    after: String
    status: ProjectStatus
  ): ProjectConnection!

  energyAssetsByProject(
    projectId: ID!
    first: Int
    after: String
    type: EnergyAssetType
  ): EnergyAssetConnection!
}
